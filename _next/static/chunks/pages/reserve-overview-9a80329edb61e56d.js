(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8219],{80381:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/reserve-overview",function(){return a(22251)}])},22251:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return tR}});var s,n,r=a(85893),i=a(73082),o=a(57747),l=a(82730),d=a(45161),c=a(93717),u=a(81136),p=a(71293),x=a(79078),m=a(68519),y=a(14225),b=a(49289),h=a(67294),f=a(11163),g=a(18618),j=a(96854),v=a(55281),w=a(34292),k=a(32883),S=a(36948),C=a(24848),A=a(74666),I=a(86200),T=a(7384),D=a(66712),E=a(91170),P=a(4040),R=a(80972),L=a(30303),B=a(55143);let _=async e=>{let{address:t,decimals:a,symbol:s,image:n}=e;if(!window.ethereum){alert("MetaMask is not installed");return}try{if(await window.ethereum.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:t,symbol:s,decimals:a,image:n}}}))return!0}catch(e){console.error("Error adding token:",e)}};function F(e){let{symbol:t,onImageGenerated:a,aToken:s}=e,n=(0,h.useRef)(null),i=(0,h.useRef)(null),[o,l]=(0,h.useState)(!0);return(0,h.useEffect)(()=>{var e,t,r,l,d,c;if(!o&&n.current&&(null===(e=n.current)||void 0===e?void 0:e.contentDocument)){if(s){let e=null===(l=n.current)||void 0===l?void 0:null===(r=l.contentDocument)||void 0===r?void 0:null===(t=r.childNodes)||void 0===t?void 0:t[0],s=e.getAttribute("width"),o=e.getAttribute("height"),c=e.getAttribute("viewBox");e.setAttribute("x",25),e.setAttribute("width",206),e.setAttribute("y",25),e.setAttribute("height",206),c||e.setAttribute("viewBox","0 0 ".concat(s," ").concat(o)),null===(d=i.current)||void 0===d||d.appendChild(e);let u=new XMLSerializer().serializeToString(i.current);a("data:image/svg+xml;base64,".concat(window.btoa(unescape(encodeURIComponent(u)))))}else{let e=new XMLSerializer().serializeToString(null===(c=n.current)||void 0===c?void 0:c.contentDocument);a("data:image/svg+xml;base64,".concat(window.btoa(unescape(encodeURIComponent(e)))))}}},[o,s]),(0,r.jsxs)("div",{style:{visibility:"hidden",height:0,width:0,overflow:"hidden"},children:[(0,r.jsx)("object",{style:{opacity:1},ref:n,id:"svg",data:"/icons/tokens/".concat(t.toLowerCase(),".svg"),onLoad:()=>l(!1)}),s&&(0,r.jsx)(z,{ref:i})]})}let z=(0,h.forwardRef)((e,t)=>{let{symbol:a}=e;return(0,r.jsxs)("svg",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},ref:t,id:"Group_30952",width:"256",height:"256",viewBox:"0 0 256 256",children:[(0,r.jsxs)("defs",{id:"defs10",children:[(0,r.jsxs)("linearGradient",{id:"linear-gradient",x1:".843",x2:".206",y1:".135",y2:".886",gradientUnits:"objectBoundingBox",children:[(0,r.jsx)("stop",{offset:"0",stopColor:"#12152B",id:"stop2"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#12152B",id:"stop4"})]}),(0,r.jsx)("linearGradient",{id:"linear-gradient-2",x1:".907",x2:".163",y1:".227",y2:".853"})]}),(0,r.jsxs)("g",{id:"Group_29109",children:[(0,r.jsx)("path",{id:"Subtraction_108",fill:"url(#linear-gradient)",d:"M128 256a128.976 128.976 0 0 1-25.8-2.6 127.309 127.309 0 0 1-45.77-19.261 128.366 128.366 0 0 1-46.375-56.315A127.357 127.357 0 0 1 2.6 153.8a129.251 129.251 0 0 1 0-51.593 127.31 127.31 0 0 1 19.26-45.77 128.372 128.372 0 0 1 56.317-46.378A127.33 127.33 0 0 1 102.2 2.6a129.244 129.244 0 0 1 51.593 0 127.308 127.308 0 0 1 45.77 19.26 128.367 128.367 0 0 1 46.375 56.316A127.343 127.343 0 0 1 253.4 102.2a129.248 129.248 0 0 1 0 51.593 127.3 127.3 0 0 1-19.26 45.77 128.382 128.382 0 0 1-56.316 46.375A127.4 127.4 0 0 1 153.8 253.4 128.977 128.977 0 0 1 128 256zm0-242.287a115.145 115.145 0 0 0-23.033 2.322A113.657 113.657 0 0 0 64.1 33.232a114.622 114.622 0 0 0-41.4 50.283 113.7 113.7 0 0 0-6.659 21.452 115.4 115.4 0 0 0 0 46.065 113.66 113.66 0 0 0 17.2 40.866 114.627 114.627 0 0 0 50.282 41.407 113.75 113.75 0 0 0 21.453 6.658 115.381 115.381 0 0 0 46.065 0 113.609 113.609 0 0 0 40.866-17.2 114.622 114.622 0 0 0 41.393-50.278 113.741 113.741 0 0 0 6.659-21.453 115.4 115.4 0 0 0 0-46.065 113.662 113.662 0 0 0-17.2-40.865A114.619 114.619 0 0 0 172.485 22.7a113.74 113.74 0 0 0-21.453-6.659A115.145 115.145 0 0 0 128 13.714z"}),a&&(0,r.jsx)("image",{x:"25",y:"25",href:"/icons/tokens/".concat(a.toLowerCase(),".svg"),width:"206",height:"206"})]})]})});z.displayName="ATokenIcon";var Z=a(68615),M=a(14543),U=e=>{let{poolReserve:t,currentChainId:a,connectedChainId:s,hideAToken:n}=e,{switchChain:i}=(0,B.o)(),[u,x]=(0,h.useState)(!1),[m,f]=(0,h.useState)(""),[g,j]=(0,h.useState)(""),{isOpen:v,onOpen:w,onClose:k}=(0,l.q)();(0,h.useEffect)(()=>{if(u&&a===s){try{_({address:t.aTokenAddress,decimals:t.decimals,symbol:"".concat(M.eG.tokenSuffix).concat(t.symbol.slice(0,11)),image:/_/.test(t.symbol)?void 0:m})}catch(e){console.error("Error adding token:",e)}x(!1)}},[s,u,a,t,m]);let A=async()=>{try{a!==s?(i({chainId:a}),x(!0)):_({address:t.aTokenAddress,decimals:t.decimals,symbol:"".concat(M.eG.tokenSuffix).concat(t.symbol.slice(0,11)),image:/_/.test(t.symbol)?void 0:g})}catch(e){console.error("Error switching network or adding token:",e)}},I=async()=>{try{a!==s?(i({chainId:a}),x(!0)):_({address:t.underlyingAsset,decimals:t.decimals,symbol:"".concat(t.symbol.slice(0,11)),image:/_/.test(t.symbol)?void 0:g})}catch(e){console.error("Error switching network or adding token:",e)}};return(0,r.jsxs)(D.v,{isOpen:v,onOpen:w,onClose:k,children:[(0,r.jsx)(Z.Z,{label:"Add token to wallet",children:(0,r.jsx)(E.j,{borderRadius:"50%",size:"md",border:"none",variant:"normal",as:y.z,children:(0,r.jsx)(o.xu,{p:1.5,borderRadius:"50%",bg:(0,d.ff)("#00000030","#FFFFFF30"),display:"flex",alignItems:"center",justifyContent:"center",children:(0,r.jsx)(S.J,{as:L.If5,boxSize:"12px"})})})}),(null==t?void 0:t.symbol)&&!/_/.test(t.symbol)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(F,{symbol:t.iconSymbol,onImageGenerated:f,aToken:!1}),!n&&(0,r.jsx)(F,{symbol:t.iconSymbol,onImageGenerated:j,aToken:!0})]}),(0,r.jsxs)(P.q,{children:[(0,r.jsx)(p.x,{textStyle:"sm",px:3,mb:1,fontWeight:"bold",opacity:.5,children:"Underlying token"}),(0,r.jsx)(R.s,{onClick:()=>I(),children:(0,r.jsxs)(c.k,{gap:2,children:[(0,r.jsx)(C.Z,{symbol:t.iconSymbol,w:6}),(0,r.jsx)(p.x,{children:t.symbol})]})}),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b.i,{opacity:.1,mb:2}),(0,r.jsxs)(p.x,{textStyle:"sm",px:3,mb:1,fontWeight:"bold",opacity:.5,children:[M.eG.name," ",M.eG.tokenSuffix,"Token"]}),(0,r.jsx)(R.s,{onClick:()=>A(),children:(0,r.jsxs)(c.k,{gap:2,children:[(0,r.jsx)(C.Z,{symbol:t.iconSymbol,w:6}),(0,r.jsxs)(p.x,{children:[" ","".concat(M.eG.tokenSuffix).concat(t.symbol)]})]})})]})]})]})},O=a(72583),W=a(78607),N=e=>{let{poolReserve:t}=e,{isOpen:a,onOpen:s,onClose:n}=(0,l.q)(),{currentNetworkConfig:i}=(0,W.f)(),u=t.borrowingEnabled||t.stableBorrowRateEnabled;return(0,r.jsxs)(D.v,{isOpen:a,onOpen:s,onClose:n,children:[(0,r.jsx)(Z.Z,{label:"View token contracts",children:(0,r.jsx)(E.j,{borderRadius:"50%",size:"md",border:"none",variant:"normal",as:y.z,children:(0,r.jsx)(o.xu,{p:1.5,borderRadius:"50%",bg:(0,d.ff)("#00000030","#FFFFFF30"),display:"flex",alignItems:"center",justifyContent:"center",children:(0,r.jsx)(S.J,{as:O.h,boxSize:"12px"})})})}),(0,r.jsxs)(P.q,{children:[(0,r.jsx)(p.x,{textStyle:"sm",px:3,mb:1,fontWeight:"bold",opacity:.5,children:"Underlying token"}),(0,r.jsx)(R.s,{onClick:()=>console.log("addToken"),as:"a",href:i.explorerLinkBuilder({address:null==t?void 0:t.underlyingAsset}),target:"_blank",children:(0,r.jsxs)(c.k,{gap:2,children:[(0,r.jsx)(C.Z,{symbol:null==t?void 0:t.iconSymbol.toLowerCase(),w:6}),(0,r.jsx)(p.x,{children:null==t?void 0:t.symbol})]})}),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b.i,{opacity:.1,mb:2}),(0,r.jsx)(p.x,{textStyle:"sm",px:3,mb:1,fontWeight:"bold",opacity:.5,children:"".concat(M.eG.name," ").concat(M.eG.tokenSuffix,"Token")}),(0,r.jsx)(R.s,{as:"a",href:i.explorerLinkBuilder({address:null==t?void 0:t.aTokenAddress}),target:"_blank",children:(0,r.jsxs)(c.k,{gap:2,children:[(0,r.jsx)(C.Z,{symbol:null==t?void 0:t.iconSymbol.toLowerCase(),w:6}),(0,r.jsx)(p.x,{children:M.eG.tokenSuffix+(null==t?void 0:t.symbol)})]})})]}),(0,r.jsx)(b.i,{opacity:.1,mb:2}),u&&(0,r.jsxs)(p.x,{textStyle:"sm",px:3,mb:1,fontWeight:"bold",opacity:.5,children:[M.eG.name," debt token"]}),t.borrowingEnabled&&(0,r.jsx)(R.s,{as:"a",href:i.explorerLinkBuilder({address:null==t?void 0:t.variableDebtTokenAddress}),target:"_blank",children:(0,r.jsxs)(c.k,{gap:2,children:[(0,r.jsx)(C.Z,{symbol:"default",w:6}),(0,r.jsxs)(p.x,{children:[" ","Variable debt "+t.symbol]})]})}),t.stableBorrowRateEnabled&&(0,r.jsx)(R.s,{as:"a",href:i.explorerLinkBuilder({address:null==t?void 0:t.variableDebtTokenAddress}),target:"_blank",children:(0,r.jsxs)(c.k,{gap:2,children:[(0,r.jsx)(C.Z,{symbol:"default",w:6}),(0,r.jsxs)(p.x,{children:[" ","Stable debt "+t.symbol]})]})})]})]})},V=a(92321),K=a(82002),q=a(87040),G=a(93618),H=e=>{let{reserve:t,loading:a}=e,{isConnected:s}=(0,V.m)(),n=(0,K.x)(),i=(0,d.ff)("grey.10","white.11"),{currentChainId:l,currentNetworkConfig:u,currentMarket:x}=(0,W.f)(),{network:m}=(0,G.h)(x),[y]=(0,g.a)("(max-width: 726px)");return(0,r.jsx)(o.xu,{mb:6,children:(0,r.jsxs)(c.k,{flexDir:{base:"column",md:"row"},alignItems:{base:"flex-start",md:"center"},justifyContent:"space-between",children:[a?(0,r.jsx)(j.O,{height:"40px",width:"100px"}):(0,r.jsx)(o.xu,{mb:{base:3,md:0},flex:1,children:(0,r.jsxs)(v.K,{children:[(0,r.jsxs)(w.U,{ml:2,display:"none",children:[(0,r.jsx)(q.$,{type:"networks",name:m.name.toLowerCase(),w:"20px",h:"20px"}),(0,r.jsx)(p.x,{children:"/"}),(0,r.jsx)(C.Z,{symbol:null==t?void 0:t.iconSymbol,w:"20px",h:"20px"})]}),(0,r.jsx)(w.U,{gap:0,children:(0,r.jsx)(v.K,{gap:0,children:(0,r.jsxs)(w.U,{flexDirection:"row",children:[(0,r.jsx)(C.Z,{symbol:null==t?void 0:t.iconSymbol,w:"26px",h:"26px"}),(0,r.jsxs)(w.U,{flexDirection:{base:"row",md:"row"},alignItems:{base:"end",md:"end"},children:[(0,r.jsxs)(w.U,{flexDirection:"column",justifyContent:"start",alignItems:"start",gap:0,children:[(0,r.jsx)(p.x,{textStyle:"base",color:i,w:"max-content",children:null==t?void 0:t.symbol}),(0,r.jsx)(p.x,{opacity:"50%",textStyle:"base",color:i,w:"max-content",children:null==t?void 0:t.name})]}),(0,r.jsxs)(w.U,{children:[t&&(0,r.jsx)(N,{poolReserve:t}),s&&t&&(0,r.jsx)(U,{poolReserve:t,currentChainId:l,connectedChainId:n})]})]})]})})})]})}),(0,r.jsxs)(c.k,{ml:"auto",gap:2,justifyContent:y?"start":"flex-end",flexWrap:"wrap",children:[(0,r.jsx)(A.Z,{fitCon:!0,size:"sm",title:"Reserve Size",value:(0,r.jsx)(I.b,{symbol:"USD",children:(0,r.jsx)(T.BK,{value:Math.max(Number(null==t?void 0:t.totalLiquidityUSD),0)})}),loading:a,woContainer:!0}),(0,r.jsx)(A.Z,{fitCon:!0,size:"sm",title:"Available Liquidity",value:(0,r.jsx)(I.b,{symbol:"USD",children:(0,r.jsx)(T.BK,{value:Math.max(Number(null==t?void 0:t.availableLiquidityUSD),0)})}),loading:a,woContainer:!0}),(0,r.jsx)(A.Z,{fitCon:!0,size:"sm",title:"Utilization rate",value:(0,r.jsx)(I.b,{symbol:"%",children:(0,r.jsx)(T.BK,{percent:!0,value:null==t?void 0:t.borrowUsageRatio})}),loading:a,woContainer:!0}),(0,r.jsx)(A.Z,{fitCon:!0,size:"sm",title:"Oracle Price",value:(0,r.jsxs)(w.U,{children:[(0,r.jsx)(I.b,{symbol:"USD",children:(0,r.jsx)(T.BK,{value:null==t?void 0:t.priceInUSD})}),(0,r.jsx)(k.r,{target:"_blank",href:u.explorerLinkBuilder({address:null==t?void 0:t.priceOracle}),children:(0,r.jsx)(S.J,{as:O.h,fontSize:"sm",cursor:"pointer"})})]}),loading:a,woContainer:!0})]})]})})},Y=a(5674),$=a(160),Q=a(74153),J=a(7405),X=a(18652),ee=a(92798),et=a(95372),ea=a(1279);let es=()=>(0,r.jsx)(o.xu,{display:"flex",alignItems:"center",justifyContent:"center",children:(0,r.jsx)(p.x,{children:"\xa0"})}),en=e=>{let{incentives:t,displayBlank:a,showPer:s=!0}=e,[n,i]=(0,h.useState)(!1),{currentMarketData:l}=(0,W.f)(),c=(0,h.useMemo)(()=>(null==t?void 0:t.filter(e=>l.whiteListedIncentives.includes(e.rewardTokenSymbol.toLowerCase())))||t,[t]);if(!(c&&c.length>0))return a?(0,r.jsx)(es,{}):null;let u=c.some(e=>"Infinity"===e.incentiveAPR),x=u?"Infinity":c.reduce((e,t)=>e+ +t.incentiveAPR,0),m=u?"Infinity":"Infinity"!==x?(0,ea.hE)(x||0).toNumber():"Infinity";return 0===m?a?(0,r.jsx)(es,{}):null:(0,r.jsx)(o.xu,{px:1,borderRadius:"md",cursor:"pointer",onClick:()=>{i(n)},border:"0.5px solid",borderColor:(0,d.ff)("grey.3","white.5"),children:(0,r.jsxs)(w.U,{gap:0,children:[(0,r.jsx)(o.xu,{sx:{display:"inline-flex"},children:(0,r.jsx)(o.xu,{w:"12px",h:"12px",children:c.length<5?(0,r.jsx)(r.Fragment,{children:c.filter(e=>"WETH"!==e.rewardTokenSymbol).map(e=>(0,r.jsx)(q.$,{type:"tokens",name:e.rewardTokenSymbol.toLowerCase(),width:"12px",height:"12px"},e.rewardTokenSymbol))}):(0,r.jsx)(r.Fragment,{children:c.slice(0,3).filter(e=>"WETH"!==e.rewardTokenSymbol).map(e=>(0,r.jsx)(q.$,{type:"tokens",name:e.rewardTokenSymbol.toLowerCase(),width:"12px",height:"12px"},e.rewardTokenSymbol))})})}),(0,r.jsx)(o.xu,{display:s?"block":"none",sx:{ml:1},children:(0,r.jsx)(I.b,{symbol:"%",fontSize:"xs",children:"Infinity"!==m?(0,r.jsx)(T.BK,{value:(100*m).toFixed(2),compact:!0,visibleDecimals:2}):"Infinity"===m?(0,r.jsx)(p.x,{children:"∞"}):void 0})})]})})};var er=a(99733),ei=a(12679),eo=a(91516),el=a(48204),ed=a(23694),ec=a(24599),eu=a(69810),ep=e=>{var t;let{reserve:a}=e,{currentMarket:s}=(0,W.f)(),n="0"!==a.supplyCap,i=ei.aj[s]&&ei.aj[s]["".concat(null==a?void 0:a.symbol.toLowerCase())]||[],[l,c]=(0,h.useState)(!1),u=(0,d.ff)("grey.6","white.7");return(0,r.jsxs)(o.xu,{mt:4,pb:6,children:[(0,r.jsxs)(v.K,{flexDirection:"row",justifyContent:"space-between",mb:4,children:[(0,r.jsx)(p.x,{fontWeight:600,textStyle:{md:"sm",xl:"lg"},children:"Collateral/Supply Info"}),(0,r.jsx)(y.z,{variant:"filled",w:"fit-content",borderRadius:7,px:3,h:"30px",py:0,onClick:()=>{c(!l)},display:"none",children:l?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.x,{fontSize:"xs",fontWeight:"bold",mr:2,children:"See Less"}),(0,r.jsx)(eo.g,{w:4,h:4,fontWeight:"bold",color:u})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.x,{fontSize:"xs",mr:2,fontWeight:"bold",children:"See All"}),(0,r.jsx)(el.v,{w:4,h:4,fontWeight:"bold",color:u})]})})]}),(0,r.jsx)(o.xu,{children:(0,r.jsxs)(Y.M,{columns:{base:1,md:2,lg:3},gap:4,children:[(0,r.jsx)(A.Z,{title:"Total Supplied",value:(0,r.jsxs)(w.U,{children:[(0,r.jsx)(I.b,{symbol:"$",symbolPosition:"prefix",children:(0,r.jsx)(T.BK,{value:null==a?void 0:a.totalLiquidityUSD,compact:!0,fontWeight:500})}),(0,r.jsx)(o.xu,{border:"1px",borderColor:(0,d.ff)("grey.1","white.3"),bg:(0,d.ff)("grey.2","black"),p:.5,px:1,borderRadius:"md",children:(0,r.jsx)(I.b,{symbolPosition:"prefix",textProps:{textStyle:{md:"sm",xl:"lg"}},children:(0,r.jsx)(T.BK,{value:null==a?void 0:a.totalLiquidity,compact:!0,opacity:.8,fontWeight:"bold",textStyle:{md:"sm",xl:"md"}})})})]}),size:"sm",wfull:!0}),n&&(0,r.jsx)(A.Z,{title:"Supply Cap",value:(0,r.jsxs)(w.U,{children:[(0,r.jsx)(I.b,{symbol:"$",symbolPosition:"prefix",children:(0,r.jsx)(T.BK,{value:null==a?void 0:a.supplyCapUSD,compact:!0,fontWeight:500})}),(0,r.jsx)(o.xu,{border:"1px",borderColor:(0,d.ff)("grey.1","white.3"),bg:(0,d.ff)("grey.2","black"),p:.5,px:1,borderRadius:"md",children:(0,r.jsx)(I.b,{symbolPosition:"prefix",textProps:{textStyle:{md:"sm",xl:"lg"}},children:(0,r.jsx)(T.BK,{value:null==a?void 0:a.supplyCap,compact:!0,opacity:.8,fontWeight:"bold",textStyle:{md:"sm",xl:"md"}})})})]}),infoLabel:"Asset supply is limited to a certain amount to reduce protocol exposure to the asset and to help manage risks involved.",size:"sm",wfull:!0}),(0,r.jsx)(A.Z,{title:"Supply APY",value:(0,r.jsx)(ed.Z,{aIncentivesData:null!==(t=a.aIncentivesData)&&void 0!==t?t:[],symbol:null==a?void 0:a.symbol,supplyApy:a.supplyAPY,valueWrapperProps:{textStyle:{base:"sm",md:"lg"}}}),size:"sm",wfull:!0}),"0"!==a.reserveLiquidationThreshold&&(0,r.jsx)(A.Z,{title:"Liquidation threshold",value:(0,r.jsxs)(w.U,{children:[(0,r.jsx)(I.b,{symbol:"%",children:(0,r.jsx)(T.BK,{textStyle:{md:"sm",xl:"lg"},value:null==a?void 0:a.formattedBaseLTVasCollateral,visibleDecimals:2,percent:!0})}),(0,r.jsx)(en,{incentives:[],symbol:"WETH"})]}),infoLabel:"This represents the threshold at which a borrow position will be considered undercollateralized and subject to liquidation for each collateral. For example, if a collateral has a liquidation threshold of 80%, it means that the position will be liquidated when the debt value is worth 80% of the collateral value.",size:"sm",wfull:!0}),"0"!==a.reserveLiquidationThreshold&&(null==a?void 0:a.formattedReserveLiquidationBonus)&&(0,r.jsx)(A.Z,{title:"Liquidation Bonus",value:(0,r.jsxs)(w.U,{children:[(0,r.jsx)(I.b,{symbol:"%",children:(0,r.jsx)(T.BK,{textStyle:{md:"sm",xl:"lg"},value:null==a?void 0:a.formattedReserveLiquidationBonus,visibleDecimals:2,percent:!0})}),(0,r.jsx)(en,{incentives:[],symbol:"WETH"})]}),size:"sm",wfull:!0}),"0"!==a.reserveLiquidationThreshold&&a.isIsolated&&(0,r.jsx)(A.Z,{title:"Isolated debt Ceiling",value:(0,r.jsxs)(w.U,{mt:1,children:[(0,r.jsx)(et.Z,{value:null==a?void 0:a.isolationModeTotalDebtUSD})," ",(0,r.jsx)(p.x,{textStyle:"sm",children:"of"})," ",(0,r.jsx)(et.Z,{value:null==a?void 0:a.debtCeilingUSD}),(0,r.jsx)(Z.Z,{label:"".concat((0,eu.wD)(a).debtCeilingUsage,"% filled"),mt:-4,children:(0,r.jsx)($.D,{value:(0,eu.wD)(a).debtCeilingUsage,color:(0,ec.hl)(20),size:"18px",capIsRound:!0,borderRadius:"xl",trackColor:(0,d.ff)("grey.1","white.2")})})]}),infoLabel:"Debt ceiling limits the amount possible to borrow against this asset by protocol users. Debt ceiling is specific to assets in isolation mode and is denoted in USD.",size:"sm",wfull:!0}),a&&i.length>0&&(0,r.jsx)(A.Z,{title:"Points",value:(0,r.jsx)(w.U,{mt:1,children:(0,r.jsx)(er.Z,{boxW:"21px",iconW:"20px",symbol:null==a?void 0:a.symbol,marketId:s})}),size:"sm",wfull:!0}),a.unbacked&&"0"!==a.unbacked&&(0,r.jsx)(A.Z,{title:"Backed",value:(0,r.jsxs)(w.U,{children:[(0,r.jsx)(I.b,{symbol:a.name,children:(0,r.jsx)(T.BK,{value:a.unbacked})}),(0,r.jsx)(et.Z,{value:null==a?void 0:a.unbackedUSD})]}),size:"sm",wfull:!0})]})}),"stETH"==a.symbol&&(0,r.jsxs)(Q.b,{status:"warning",flexDirection:"column",alignItems:"flex-start",backgroundColor:"gray.700",borderRadius:"md",p:3,mt:4,w:"100%",children:[(0,r.jsxs)(w.U,{alignItems:"center",spacing:2,children:[(0,r.jsx)(J.z,{color:"yellow.300"}),(0,r.jsx)(X.C,{fontSize:"md",fontWeight:"bold",lineHeight:"short",color:"white",children:"Staking Rewards"})]}),(0,r.jsxs)(ee.X,{mt:2,fontSize:"sm",color:"gray.300",lineHeight:"base",children:["stETH supplied as collateral will continue to accrue staking rewards provided by daily rebases.",(0,r.jsx)(k.r,{href:M.eG.links.discord,textDecoration:"always",target:"_blank",color:"teal.400",ml:1,children:"Learn more."})]})]})]})},ex=a(93676),em=a(88732);let ey=e=>{let{currentMarket:t}=e;return(0,r.jsx)(em.Z,{status:"warning",description:(0,r.jsxs)(o.xu,{children:["Borrowing is disabled due to an ZeroLend community decision."," ",(0,r.jsx)(k.r,{href:(0,ec.Ev)(t),target:"_blank",sx:{textDecoration:"underline"},children:"More details"})]})})};var eb=e=>{let{reserve:t}=e,{currentMarket:a}=(0,W.f)(),[s,n]=(0,h.useState)(!1),i="0"!==t.borrowCapUSD,l=ei.Op[a]&&ei.Op[a]["".concat(null==t?void 0:t.symbol.toLowerCase())]||[],c=(0,d.ff)("grey.6","white.7");return(0,r.jsxs)(o.xu,{mt:4,pb:6,children:[(0,r.jsxs)(v.K,{mb:4,flexDirection:"row",justifyContent:"space-between",children:[(0,r.jsx)(p.x,{fontWeight:600,textStyle:{md:"sm",xl:"lg"},children:"Borrow Info"}),(0,r.jsx)(y.z,{variant:"filled",w:"fit-content",borderRadius:7,px:3,h:"30px",py:0,onClick:()=>{n(!s)},display:"none",children:s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.x,{fontSize:"xs",fontWeight:"bold",mr:2,children:"See Less"}),(0,r.jsx)(eo.g,{w:4,h:4,fontWeight:"bold",color:c})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.x,{fontSize:"xs",mr:2,fontWeight:"bold",children:"See All"}),(0,r.jsx)(el.v,{w:4,h:4,fontWeight:"bold",color:c})]})})]}),(0,r.jsx)(o.xu,{children:t.borrowingEnabled?(0,r.jsxs)(Y.M,{columns:{base:1,md:2,lg:3},gap:4,children:[(0,r.jsx)(A.Z,{title:"Total Borrowed",value:(0,r.jsxs)(w.U,{children:[(0,r.jsx)(I.b,{symbol:"$",symbolPosition:"prefix",children:(0,r.jsx)(T.BK,{value:null==t?void 0:t.totalDebtUSD,compact:!0,fontWeight:500})}),(0,r.jsx)(o.xu,{border:"1px",borderColor:(0,d.ff)("grey.1","white.3"),bg:(0,d.ff)("grey.2","black"),p:.5,px:1,borderRadius:"md",children:(0,r.jsx)(I.b,{symbolPosition:"prefix",textProps:{textStyle:{md:"sm",xl:"lg"}},children:(0,r.jsx)(T.BK,{value:null==t?void 0:t.totalDebt,compact:!0,opacity:.8,fontWeight:"bold",textStyle:{md:"sm",xl:"md"}})})})]}),size:"sm",wfull:!0}),i&&(0,r.jsx)(A.Z,{title:"Borrow Cap",value:(0,r.jsxs)(w.U,{children:[(0,r.jsx)(I.b,{symbol:"$",symbolPosition:"prefix",children:(0,r.jsx)(T.BK,{value:null==t?void 0:t.borrowCapUSD,compact:!0,fontWeight:500})}),(0,r.jsx)(o.xu,{border:"1px",borderColor:(0,d.ff)("grey.1","white.3"),bg:(0,d.ff)("grey.2","black"),p:.5,px:1,borderRadius:"md",children:(0,r.jsx)(I.b,{symbolPosition:"prefix",textProps:{textStyle:{md:"sm",xl:"lg"}},children:(0,r.jsx)(T.BK,{value:null==t?void 0:t.borrowCap,compact:!0,opacity:.8,fontWeight:"bold",textStyle:{md:"sm",xl:"md"}})})})]}),infoLabel:"Borrowing of this asset is limited to a certain amount to minimize liquidity pool insolvency.",size:"sm",wfull:!0}),(0,r.jsx)(A.Z,{title:"Borrow APY",value:(0,r.jsx)(ex.Z,{aIncentivesData:[],symbol:null==t?void 0:t.symbol,borrowApy:t.variableBorrowAPY,valueWrapperProps:{textStyle:{base:"sm",md:"lg"}}}),infoLabel:"Variable interest rate will fluctuate based on the market conditions. Recommended for short-term positions.",size:"sm",wfull:!0}),t&&l.length>0&&(0,r.jsx)(A.Z,{title:"Points",value:(0,r.jsx)(o.xu,{mt:1,children:(0,r.jsx)(er.Z,{boxW:"21px",iconW:"20px",type:"borrow",symbol:null==t?void 0:t.symbol,marketId:a})}),size:"sm",wfull:!0}),(0,r.jsx)(A.Z,{title:"Liquidation penalty",value:(0,r.jsx)(v.K,{gap:0,alignItems:"flex-start",children:(null==t?void 0:t.variableBorrowAPY.toString())==="0"?(0,r.jsx)(p.x,{children:"-"}):(0,r.jsx)(I.b,{symbol:"%",children:(0,r.jsx)(T.BK,{textStyle:{md:"sm",xl:"lg"},value:null==t?void 0:t.formattedReserveLiquidationBonus,percent:!0,visibleDecimals:2})})}),infoLabel:"When a liquidation occurs, liquidators repay up to 50% of the outstanding borrowed amount on behalf of the borrower. In return, they can buy the collateral at a discount and keep the difference (liquidation penalty) as a bonus.",size:"sm",wfull:!0})]}):(0,r.jsx)(ey,{symbol:null==t?void 0:t.symbol,currentMarket:a})})]})},eh=a(90851),ef=e=>{let{reserve:t}=e,a=(0,f.useRouter)();return(0,r.jsxs)(o.xu,{mt:4,pb:6,children:[(0,r.jsxs)(o.xu,{mb:4,children:[(0,r.jsx)(p.x,{mb:0,fontWeight:"bold",textStyle:"lg",children:"E-Mode"}),(0,r.jsxs)(p.x,{textStyle:"sm",opacity:"0.5",children:["E-Mode increases your LTV for a selected category of assets, meaning that when E-mode is enabled, you will have higher borrowing power over assets of the same E-mode category which are defined by ZeroLend Governance. You can enter E-Mode from your"," ",(0,r.jsx)(k.r,{onClick:()=>{a.push("/dashboard")},children:"Dashboard"}),". To learn more about E-Mode and applied restrictions in.",(0,r.jsx)(k.r,{href:M.eG.links.discord,textDecoration:"always",target:"_blank",children:"Learn more"})]})]}),(0,r.jsx)(o.xu,{children:(0,r.jsxs)(Y.M,{columns:2,gap:4,children:[(0,r.jsx)(o.xu,{children:(0,r.jsxs)(w.U,{alignItems:"flex-start",children:[(0,r.jsx)(eh.Z,{title:"E-Mode Category",textStyle:"base",opacity:.8}),(0,r.jsx)(p.x,{color:"green.5",children:null==t?void 0:t.eModeLabel})]})}),(0,r.jsx)(o.xu,{children:(0,r.jsxs)(w.U,{alignItems:"flex-start",children:[(0,r.jsx)(eh.Z,{infolabel:"The Maximum LTV ratio represents the maximum borrowing power of a specific collateral. For example, if a collateral has an LTV of 75%, the user can borrow up to 0.75 worth of ETH in the principal currency for every 1 ETH worth of collateral.",title:"Max LTV",textStyle:"base",opacity:.8}),(0,r.jsx)(v.K,{gap:0,alignItems:"flex-end",children:(0,r.jsx)(I.b,{symbol:"%",children:(0,r.jsx)(T.BK,{value:null==t?void 0:t.formattedEModeLtv,percent:!0,visibleDecimals:2})})})]})}),(0,r.jsx)(o.xu,{children:(0,r.jsxs)(w.U,{alignItems:"flex-start",children:[(0,r.jsx)(eh.Z,{infolabel:"This represents the threshold at which a borrow position will be considered undercollateralized and subject to liquidation for each collateral. For example, if a collateral has a liquidation threshold of 80%, it means that the position will be liquidated when the debt value is worth 80% of the collateral value.",title:"Liquidation threshold",textStyle:"base",opacity:.8}),(0,r.jsx)(v.K,{gap:0,alignItems:"flex-end",children:(0,r.jsx)(I.b,{symbol:"%",children:(0,r.jsx)(T.BK,{value:null==t?void 0:t.formattedEModeLiquidationThreshold,percent:!0,visibleDecimals:2})})})]})}),(0,r.jsx)(o.xu,{children:(0,r.jsxs)(w.U,{alignItems:"flex-start",children:[(0,r.jsx)(eh.Z,{infolabel:"When a liquidation occurs, liquidators repay up to 50% of the outstanding borrowed amount on behalf of the borrower. In return, they can buy the collateral at a discount and keep the difference (liquidation penalty) as a bonus.",title:"Liquidation penalty",textStyle:"base",opacity:.8}),(0,r.jsx)(v.K,{gap:0,alignItems:"flex-end",children:(0,r.jsx)(I.b,{symbol:"%",children:(0,r.jsx)(T.BK,{value:null==t?void 0:t.formattedEModeLiquidationBonus,percent:!0,visibleDecimals:2})})})]})})]})})]})},eg=a(27484),ej=a.n(eg),ev=a(78188);let ew={proto_mainnet_lrt_v3:"mainnet",proto_linea_v3:"linea",proto_mainnet_btc_lrt_v3:"mainnet_btc",proto_linea_croak_v3:"linea_croak",proto_linea_foxy_v3:"linea_foxy",proto_layerx_v3:"xlayer",proto_blast_v3:"blast",proto_zksync_era_v3:"zksync",proto_manta_v3:"manta",proto_base_v3:"base",proto_mainnet_rwa_v3:"mainnet_rwa"};(s=n||(n={})).OneMonth="1m",s.ThreeMonths="3m",s.SixMonths="6m",s.OneYear="1y",s.TwoYears="2y",s.FiveYears="5y";let ek=async(e,t,a)=>{let{from:s}=eS(a);try{let a="https://api.zerolend.xyz/historicalRates?market=".concat(e,"&symbol=").concat(t,"&from=").concat(s),n=await fetch(a),r=await n.json();return console.log("JSON:- ",r),r}catch(e){return[]}},eS=e=>{let t=ej()().unix();switch(e){case"1m":return{from:t=ej()().subtract(30,"day").unix(),resolutionInHours:6};case"6m":return{from:t=ej()().subtract(6,"month").unix(),resolutionInHours:24};case"1y":return{from:t=ej()().subtract(1,"year").unix(),resolutionInHours:24};default:return{from:t,resolutionInHours:6}}},eC=["0xd46ba6d942050d489dbd938a2c909a5d5039a1610xb53c1a33016b2dc2ff3653530bff1848a515c8c5","0x956f47f50a910163d8bf957cf5846d573e7f87ca0xb53c1a33016b2dc2ff3653530bff1848a515c8c5"];var eA=a(91173),eI=a(45381),eT=a(11458),eD=a(80854),eE=a(75331),eP=a(77531);let eR=e=>""===e?"Disabled":e;function eL(e){let{bridge:t,name:a,chainId:s}=e,n=[eE.a_.avalanche].includes(s)?"Ethereum & Bitcoin":"Ethereum";return(0,r.jsx)(em.Z,{description:t?"Your ".concat(a," wallet is empty. Purchase or transfer assets or use ").concat(t.name," to transfer your ").concat(n," assets."):"Your ".concat(a," wallet is empty. Purchase or transfer assets."),status:"info",link:null==t?void 0:t.name,href:null==t?void 0:t.url})}var eB=a(7316),e_=a(51763),eF=a(62883),ez=a(40237);let eZ=e=>{let{balance:t,maxAmountToSupply:a,maxAmountToBorrow:s,reserve:n}=e,{data:{user:i,eModes:o}}=(0,eB.Z)(),{supplyCapUsage:l,supplyCapReached:d}=(0,eu.pI)(n),{borrowCapUsage:c,borrowCapReached:u}=(0,eu.rM)(n),{debtCeilingUsage:p,debtCeilingReached:x}=(0,eu.wD)(n),[m,y]=(0,eI.Yh)(e=>[e.currentNetworkConfig,e.currentChainId]),{bridge:b,name:h}=m,f=(0,eP.h)(n,i),g=(null==i?void 0:i.totalCollateralMarketReferenceCurrency)==="0",j=(null==i?void 0:i.isInIsolationMode)&&!n.borrowableInIsolation,w=(null==i?void 0:i.isInEmode)&&n.eModeCategoryId!==i.userEmodeCategoryId;return{disableSupplyButton:"0"===t||"0"===a,disableBorrowButton:!f||g||j||w||"0"===s,alerts:(0,r.jsxs)(v.K,{gap:3,children:["0"===t&&(0,r.jsx)(r.Fragment,{children:m.isTestnet?(0,r.jsx)(em.Z,{description:"Your {networkName} wallet is empty. Get free test ".concat(n.name," at {networkName} Faucet"),status:"info",width:"max-content"}):(0,r.jsx)(eL,{name:h,bridge:b,chainId:y})}),"0"!==t&&(null==i?void 0:i.totalCollateralMarketReferenceCurrency)==="0"&&(0,r.jsx)(em.Z,{description:"To borrow you need to supply any asset to be used as collateral.",status:"info",width:"max-content"}),j&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(em.Z,{description:"Collateral usage is limited because of Isolation mode.",status:"warning",width:"max-content"})}),w&&j&&(0,r.jsx)(em.Z,{description:" Borrowing is unavailable because you’ve enabled Efficiency Mode (E-Mode) and Isolation mode. To manage E-Mode and Isolation mode visit your. ",status:"info",link:"Dashboard",href:"/dashboard",width:"max-content"}),w&&!j&&(0,r.jsx)(em.Z,{description:"Borrowing is unavailable because you have enabled Efficiency Mode (E-Mode) for ".concat(eR(o[i.userEmodeCategoryId].label)," category. To manage E-Mode categories visit your. "),status:"info",link:"Dashboard",href:"/dashboard",width:"max-content"}),!w&&j&&(0,r.jsx)(em.Z,{status:"info",link:"Dashboard",href:"/dashboard",description:"Borrowing is unavailable because you’re using Isolation mode. To manage Isolation mode visit your. ",width:"max-content"}),"0"===a&&(0,r.jsx)(e_.i,{supplyCap:{percentUsed:l,isMaxed:d},icon:!0}),"0"===s&&(0,r.jsx)(eF.s,{borrowCap:{percentUsed:c,isMaxed:u}}),n.isIsolated&&"0"!==t&&(null==i?void 0:i.totalCollateralUSD)!=="0"&&(0,r.jsx)(ez.m,{debtCeiling:{percentUsed:p,isMaxed:x}})]})}};var eM=a(44394),eU=a(5385),eO=e=>{let{reserve:t,userReserve:a}=e,{isConnected:s}=(0,V.m)(),{openLegacyWithdraw:n,openLegacyRepay:i}=(0,eT.vR)(),{currentNetworkConfig:l,currentMarket:c}=(0,W.f)(),u=(0,K.x)(),{data:{user:x}}=(0,eB.Z)(),{walletBalances:m}=(0,eA.P)(),[y]=(0,eI.Yh)(e=>[e.poolComputed.minRemainingBaseTokenBalance]),{baseAssetSymbol:b}=l,h=m[t.underlyingAsset];t.isWrappedBaseAsset&&t.symbol===b&&(h=m[eD.hP.toLowerCase()]);let f="0",g="0";f=(0,eP.n)(t,x,eE.tk.Variable).toString(),g=(0,ev.Il)((null==h?void 0:h.amount)||"0",t,t.underlyingAsset,y).toString();let{alerts:j}=eZ({balance:(null==h?void 0:h.amount)||"0",maxAmountToSupply:g.toString(),maxAmountToBorrow:f.toString(),reserve:t}),k=(0,d.ff)("white.9","white.9");return(0,r.jsx)(eU.Z,{title:"Your Info",dontShowByDefault:!1,showText:!1,children:(0,r.jsx)(o.xu,{mt:4,children:t.isFrozen||t.isPaused?(0,r.jsx)(o.xu,{sx:{mt:3},children:t.isPaused?(0,r.jsx)(()=>(0,r.jsx)(em.Z,{title:"Asset is paused!",description:"Because this asset is paused, no actions can be taken until further notice.",status:"error"}),{}):(0,r.jsx)(()=>(0,r.jsx)(em.Z,{title:"Asset is frozen!",description:"Since this asset is frozen, the only available actions are withdraw and repay which can be accessed from the. ",status:"error",link:"Dashboard",href:"/dashboard"}),{})}):s?(0,r.jsxs)(o.xu,{children:[(0,r.jsxs)(v.K,{gap:4,children:[(0,r.jsxs)(o.xu,{bg:"radial-gradient(45.12% 117.71% at 43.73% -17.71%, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0.05) 100%);",p:4,borderRadius:"xl",border:"1px",borderColor:(0,d.ff)("grey.1","white.3"),children:[(0,r.jsxs)(w.U,{alignItems:"flex-start",mb:1,children:[(0,r.jsx)(eh.Z,{title:"Your Supplies",textStyle:"base",opacity:.8}),(0,r.jsx)(o.xu,{children:(null==a?void 0:a.underlyingBalance)==="0"?(0,r.jsx)(p.x,{children:"-"}):(0,r.jsxs)(w.U,{children:[(0,r.jsx)(q.$,{type:"tokens",name:null==t?void 0:t.symbol.toLowerCase(),w:"18px",h:"18px"}),(0,r.jsx)(T.BK,{value:Number(null==a?void 0:a.underlyingBalance),visibleDecimals:4}),(0,r.jsx)(et.Z,{value:Number((null==a?void 0:a.underlyingBalanceUSD)==="0"?"-":null==a?void 0:a.underlyingBalanceUSD)})]})})]}),(0,r.jsx)(w.U,{alignItems:"flex-start",justifyContent:"flex-end",children:(0,r.jsx)(eM.Z,{onClick:()=>n(t.underlyingAsset),variant:"gost",bg:"#2C1F4F",size:"xs",tracking_id:"open_withdraw_modal",tracking_params:{chainId:u,marketId:c,reserve:null==t?void 0:t.symbol,placement:"reserve_overview_page"},color:k,isDisabled:!a,children:"Withdraw"})})]}),(0,r.jsxs)(o.xu,{bg:"radial-gradient(45.12% 117.71% at 43.73% -17.71%, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0.05) 100%);",p:4,borderRadius:"xl",border:"1px",borderColor:(0,d.ff)("grey.1","white.3"),children:[(0,r.jsxs)(w.U,{alignItems:"flex-start",mb:1,children:[(0,r.jsx)(eh.Z,{title:"Your Borrows",textStyle:"base",opacity:.8}),(0,r.jsx)(o.xu,{children:((null==a?void 0:a.borrowRateMode)===eE.tk.Variable?null==a?void 0:a.variableBorrows:null==a?void 0:a.stableBorrows)==="0"?(0,r.jsx)(p.x,{children:"-"}):(0,r.jsxs)(w.U,{children:[(0,r.jsx)(T.BK,{value:Number((null==a?void 0:a.borrowRateMode)===eE.tk.Variable?null==a?void 0:a.variableBorrows:null==a?void 0:a.stableBorrows),compact:!0,visibleDecimals:4}),(0,r.jsx)(et.Z,{value:Number((null==a?void 0:a.borrowRateMode)===eE.tk.Variable?null==a?void 0:a.variableBorrowsUSD:null==a?void 0:a.stableBorrowsUSD)})]})})]}),(0,r.jsx)(w.U,{alignItems:"flex-start",justifyContent:"flex-end",children:(0,r.jsx)(eM.Z,{tracking_id:"open_repay_modal",tracking_params:{chainId:u,marketId:c,reserve:null==t?void 0:t.symbol,placement:"reserve_overview_page"},isDisabled:!a,onClick:()=>i(t.underlyingAsset,eE.tk.Variable,t.isFrozen),variant:"gost",bg:"#2C1F4F",size:"xs",color:k,children:"Repay"})})]})]}),(0,r.jsx)(o.xu,{sx:{mt:3},children:j})]}):(0,r.jsx)(em.Z,{description:"Please connect a wallet to view your personal information here.",status:"info",width:"max-content"})})})},eW=a(71847),eN=a(79514),eV=a(82403),eK=a(70794),eq=a(98514),eG=a(96227),eH=a(20020),eY=a(99060),e$=a(32112),eQ=a(6940),eJ=a(76500),eX=a(18167),e0=a(7963),e1=a(22396),e2=a(57511),e5=a(66357),e3=a(14679),e6=a(9652),e4=a(64529),e7=a(64146),e8=a(3215),e9=a(52893),te=a(3685);class tt extends e7.CH{static connect(e,t){return new e7.CH(e,ta,t)}connect(e){return super.connect(e)}}let ta=[{inputs:[{internalType:"address",name:"_pool",type:"address"},{internalType:"address",name:"_wnative",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"address",name:"collPool",type:"address"},{indexed:!1,internalType:"uint256",name:"decreasedCollAmt",type:"uint256"},{indexed:!1,internalType:"address",name:"borrPool",type:"address"},{indexed:!1,internalType:"uint256",name:"repaidBorrAmt",type:"uint256"},{indexed:!1,internalType:"address",name:"tokenOut",type:"address"},{indexed:!1,internalType:"uint256",name:"amtOut",type:"uint256"}],name:"DecreasePos",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"address",name:"collPool",type:"address"},{indexed:!1,internalType:"uint256",name:"supplyAmt",type:"uint256"},{indexed:!1,internalType:"address",name:"borrPool",type:"address"},{indexed:!1,internalType:"uint256",name:"borrAmt",type:"uint256"}],name:"IncreasePos",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"address",name:"collPool",type:"address"},{indexed:!1,internalType:"uint256",name:"decreasedCollAmt",type:"uint256"},{indexed:!1,internalType:"address",name:"borrPool",type:"address"},{indexed:!1,internalType:"uint256",name:"repaidBorrAmt",type:"uint256"}],name:"RepayDebtWithCollateral",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"swapper",type:"address"},{indexed:!1,internalType:"address",name:"from",type:"address"},{indexed:!1,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amtIn",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amtOut",type:"uint256"}],name:"Swap",type:"event"},{inputs:[],name:"POOL",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"WNATIVE",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"collPool",type:"address"},{internalType:"uint256",name:"collAmt",type:"uint256"},{internalType:"address",name:"borrPool",type:"address"},{internalType:"uint256",name:"debtAmt",type:"uint256"},{internalType:"address",name:"tokenOut",type:"address"},{components:[{internalType:"address",name:"swapper",type:"address"},{internalType:"uint256",name:"slippage",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct IAaveV3LoopingStrategy.SwapInfo",name:"swapInfo",type:"tuple"}],internalType:"struct IAaveV3LoopingStrategy.DecreasePosParams",name:"params",type:"tuple"}],name:"decreasePos",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"collPool",type:"address"},{internalType:"uint256",name:"collAmt",type:"uint256"},{internalType:"address",name:"borrPool",type:"address"},{internalType:"uint256",name:"debtAmt",type:"uint256"},{internalType:"address",name:"tokenOut",type:"address"},{components:[{internalType:"address",name:"swapper",type:"address"},{internalType:"uint256",name:"slippage",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct IAaveV3LoopingStrategy.SwapInfo",name:"swapInfo",type:"tuple"}],internalType:"struct IAaveV3LoopingStrategy.DecreasePosParams",name:"params",type:"tuple"}],name:"decreasePosNative",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"assets",type:"address[]"},{internalType:"uint256[]",name:"amts",type:"uint256[]"},{internalType:"uint256[]",name:"premiums",type:"uint256[]"},{internalType:"address",name:"initiator",type:"address"},{internalType:"bytes",name:"params",type:"bytes"}],name:"executeOperation",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"uint256",name:"amtIn",type:"uint256"},{internalType:"address",name:"collPool",type:"address"},{internalType:"address",name:"borrPool",type:"address"},{internalType:"uint256",name:"borrAmt",type:"uint256"},{components:[{internalType:"address",name:"swapper",type:"address"},{internalType:"uint256",name:"slippage",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct IAaveV3LoopingStrategy.SwapInfo",name:"swapInfo",type:"tuple"}],internalType:"struct IAaveV3LoopingStrategy.IncreasePosParams",name:"params",type:"tuple"}],name:"increasePos",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"uint256",name:"amtIn",type:"uint256"},{internalType:"address",name:"collPool",type:"address"},{internalType:"address",name:"borrPool",type:"address"},{internalType:"uint256",name:"borrAmt",type:"uint256"},{components:[{internalType:"address",name:"swapper",type:"address"},{internalType:"uint256",name:"slippage",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct IAaveV3LoopingStrategy.SwapInfo",name:"swapInfo",type:"tuple"}],internalType:"struct IAaveV3LoopingStrategy.IncreasePosParams",name:"params",type:"tuple"}],name:"increasePosNative",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"collPool",type:"address"},{internalType:"uint256",name:"collAmt",type:"uint256"},{internalType:"address",name:"borrPool",type:"address"},{internalType:"uint256",name:"debtAmt",type:"uint256"},{components:[{internalType:"address",name:"swapper",type:"address"},{internalType:"uint256",name:"slippage",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct IAaveV3LoopingStrategy.SwapInfo",name:"swapInfo",type:"tuple"}],internalType:"struct IAaveV3LoopingStrategy.RepayDebtWithCollateralParams",name:"params",type:"tuple"}],name:"repayDebtWithCollateral",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}];class ts{async setIncreasePosition(e,t,a,s,n,r){return await this._contract.populateTransaction.increasePos({tokenIn:e,amtIn:t,collPool:a,borrPool:s,borrAmt:n,swapInfo:{swapper:r.swapper,slippage:r.slippage,data:r.data}})}constructor(e){this._contract=tt.connect(e.uiStakeDataProvider,e.provider)}}class tn{async setIncreasePosition(e,t,a,s,n,r){return await this.leverageDataService.setIncreasePosition(e,t,a,s,n,r)}constructor(e,t,a){this.chainId=a,this.leverageDataService=new ts({uiStakeDataProvider:t,provider:e})}}var tr=a(24243);let ti=(0,e4.Ue)(e=>({supplyToPool:async e=>{let{poolAddress:t,supplies:a}=e,s=(0,eQ.VH)(e8.H.chainId),n=new e7.CH(e9.Lk,e9.Mt,s),r=n.interface.encodeFunctionData("mint",[t]),i=a.map(e=>{let{tokenAddress:t,amount:a}=e;return n.interface.encodeFunctionData("supply",[{asset:t,amount:a,target:te.L1,tokenId:1,data:{interestRateData:"0x",hookData:"0x"}}])});return await n.populateTransaction.multicall([r,...i])},borrowFromPool:async e=>{let{poolAddress:t,borrow:a}=e,s=(0,eQ.VH)(e8.H.chainId),n=new e7.CH(e9.Lk,e9.Mt,s),r=n.interface.encodeFunctionData("mint",[t]),i=n.interface.encodeFunctionData("borrow",[{asset:a.tokenAddress,amount:a.amount,target:te.L1,tokenId:0,data:{interestRateData:"0x",hookData:"0x"}}]),o=await n.estimateGas.borrow([{asset:a.tokenAddress,amount:a.amount,target:te.L1,tokenId:0,data:{interestRateData:"0x",hookData:"0x"}}]);return console.log("Estimated Gas: ".concat(o.toString())),console.log("Multicall Data:- ",n.interface.encodeFunctionData("multicall",[r,i])),await n.populateTransaction.multicall([r,i])},getApprovedAmount:e=>{let t=(0,eQ.VH)(e.chainID);return new tr.A(t).approvedAmount({user:e.account,token:e.token,spender:e.spender})},increasePositonLeverage:async(e,t,a,s,n,r,i,o,l)=>{let d=new tn((0,eQ.VH)(i),o,i);return await d.setIncreasePosition(a,e,s,n,t,{swapper:l,slippage:"0",data:r})}})),to=async e=>{let t={...e,slippageLimitPercent:1,disableRFQs:!0,compact:!0},a=await fetch("https://api.odos.xyz/sor/quote/v2",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(200===a.status)return await a.json();console.error("Error in Quote:",a)},tl=async(e,t)=>{let a={userAddr:e,pathId:t.pathId,simulate:!0},s=await fetch("https://api.odos.xyz/sor/assemble",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(200===s.status)return await s.json();console.error("Error in Transaction Assembly:",s)},td=e=>{let{collateralAmount:t,debtAmount:a,poolAddress:s,debtAddress:n,aToken:i,variableDebtToken:l,isWrongNetwork:u,symbol:b,isOnPage:f,decimals:g,blocked:j}=e,{mainTxState:v,setMainTxState:w,setTxError:k,setGasLimit:S,setSuccessModalData:C}=(0,eT.vR)(),[A,I]=(0,h.useState)(void 0),[T,D,E,P]=(0,eI.Yh)(e=>[e.generateApproval,e.addTransaction,e.generateApproveDelegation,e.getCreditDelegationApprovedAmount]),{currentNetworkConfig:R,currentMarketData:L}=(0,W.f)(),{increasePositonLeverage:B,getApprovedAmount:_}=ti(),{close:F}=(0,eT.vR)(),z=(0,K.x)(),Z=(0,e0.p)(),{address:M}=(0,V.m)(),[U,O]=(0,h.useState)(!1),[N,G]=(0,h.useState)(1),[H,Y]=(0,h.useState)([]),Q=async e=>new Promise(async(a,o)=>{try{switch(e){case 1:Z({title:"Approval pending",description:"Please wait...",status:"loading",variant:"warning",isClosable:!0});let o=await T({token:s,spender:L.addresses.ONE_CLICK_LEVERAGE||"",amount:eD.ke,user:M}),d=await (0,e5.T)(e6.vc,{account:M,to:o.to,data:o.data}),c=await (0,e3.e)(e6.vc,{hash:d,chainId:z});Z({title:"Approval Successful.",description:(0,r.jsx)(e2.Z,{text:"Successfully Approved.",link:"https://lineascan.build/tx/".concat(c.transactionHash)}),status:"success",variant:"success",isClosable:!0}),D(c.transactionHash,{action:eE.UQ.approval,txState:"success",asset:s,amount:eD.ke});break;case 2:Z({title:"Approval pending",description:"Please wait...",status:"loading",variant:"warning",isClosable:!0});let u=await T({token:n,spender:L.addresses.ONE_CLICK_LEVERAGE||"",amount:eD.ke,user:M}),p=await (0,e5.T)(e6.vc,{account:M,to:u.to,data:u.data}),x=await (0,e3.e)(e6.vc,{hash:p,chainId:z});Z({title:"Approval Successful.",description:(0,r.jsx)(e2.Z,{text:"Successfully Approved.",link:"https://lineascan.build/tx/".concat(x.transactionHash)}),status:"success",variant:"success",isClosable:!0}),D(x.transactionHash,{action:eE.UQ.approval,txState:"success",asset:n,amount:eD.ke});break;case 3:Z({title:"Approval pending",description:"Please wait...",status:"loading",variant:"warning",isClosable:!0});let m=await T({token:i,spender:L.addresses.ONE_CLICK_LEVERAGE||"",amount:eD.ke,user:M}),y=await (0,e5.T)(e6.vc,{account:M,to:m.to,data:m.data}),h=await (0,e3.e)(e6.vc,{hash:y,chainId:z});Z({title:"Approval Successful.",description:(0,r.jsx)(e2.Z,{text:"Successfully Approved.",link:"https://lineascan.build/tx/".concat(h.transactionHash)}),status:"success",variant:"success",isClosable:!0}),D(h.transactionHash,{action:eE.UQ.approval,txState:"success",asset:i,amount:eD.ke});break;case 4:Z({title:"Delegation Approval pending",description:"Please wait...",status:"loading",variant:"warning",isClosable:!0});let f=await E({delegatee:L.addresses.ONE_CLICK_LEVERAGE||"",debtTokenAddress:l,amount:eD.ke}),g=await (0,e5.T)(e6.vc,{account:M,to:f.to,data:f.data}),j=await (0,e3.e)(e6.vc,{hash:g,chainId:z});Z({title:"Delegation Approval Successful.",description:(0,r.jsx)(e2.Z,{text:"Successfully Approved.",link:"https://lineascan.build/tx/".concat(j.transactionHash)}),status:"success",variant:"success",isClosable:!0}),D(j.transactionHash,{action:eE.UQ.approval,txState:"success",asset:l,amount:eD.ke});break;case 5:Z({title:"Transaction pending",description:"Please wait...",status:"loading",variant:"warning",isClosable:!0});let v=await (0,e5.T)(e6.vc,{account:M,to:null==A?void 0:A.to,data:null==A?void 0:A.data}),k=await (0,e3.e)(e6.vc,{hash:v,chainId:z});Z({title:"Transaction Successful.",description:(0,r.jsx)(e2.Z,{text:"Leveraged ".concat(t," ").concat(b),link:"".concat(R.explorerLink,"/tx/").concat(k.transactionHash)}),status:"success",variant:"success",isClosable:!0}),D(k.transactionHash,{txState:"success",asset:s,amount:eD.ke,assetName:b}),C({heading:"You successfully have leveraged ".concat(b,"."),showDiscordButton:!0,btnText:"Close"}),w({txHash:k.transactionHash,loading:!1,success:!0}),Y([])}a(!0)}catch(e){Y([]),Z({title:"Transaction rejected",status:"error",variant:"error"}),k(e),w({txHash:void 0,loading:!1}),a(!1)}}),J=(0,h.useCallback)(async()=>{try{O(!0);let e=await _({token:s,spender:L.addresses.ONE_CLICK_LEVERAGE||"",account:M,chainID:z});(0,ev.iv)({approvedAmount:String(e),amount:eD.ke,signedAmount:"0"})&&Y(e=>[...e,1]);let t=await _({token:n,spender:L.addresses.ONE_CLICK_LEVERAGE||"",account:M,chainID:z});(0,ev.iv)({approvedAmount:String(t),amount:eD.ke,signedAmount:"0"})&&Y(e=>[...e,2]);let a=await _({token:i,spender:L.addresses.ONE_CLICK_LEVERAGE||"",account:M,chainID:z});(0,ev.iv)({approvedAmount:String(a),amount:eD.ke,signedAmount:"0"})&&Y(e=>[...e,3]);let r=await P({debtTokenAddress:l,delegatee:L.addresses.ONE_CLICK_LEVERAGE||""});(0,ev.iv)({approvedAmount:r.amount,amount:eD.ke,signedAmount:"0"})&&Y(e=>[...e,4]),Y(e=>[...e,5]),O(!1)}catch(e){console.error("Error fetching approved amount:",e),O(!1)}},[]);(0,h.useEffect)(()=>{J()},[J]);let X=(0,h.useCallback)(async()=>{try{if(!t||0>=Number(t)||u||j||!L.addresses.ONE_CLICK_LEVERAGE||!L.addresses.ODOS_SWAPPER)return;let e={chainId:z,inputTokens:[{tokenAddress:n,amount:a}],outputTokens:[{tokenAddress:s,proportion:1}],userAddr:L.addresses.ONE_CLICK_LEVERAGE},r=await to(e);if(!r)throw Error("invalid quote from odos");let o=await tl(L.addresses.ONE_CLICK_LEVERAGE,r);if(!o)throw Error("invalid tx data from odos");let d=await B((0,eD.gU)(t,g),a,s,i,l,null==o?void 0:o.transaction.data,z,L.addresses.ONE_CLICK_LEVERAGE,L.addresses.ODOS_SWAPPER);I(d),S(o.gasEstimate.toString())}catch(e){console.log("fetchEstimatedGas error",a,e)}},[t,u,a,j,n,i,l]);(0,h.useEffect)(()=>{X()},[X]);let ee=async()=>{w({...v,loading:!0});for(let e=0;e<H.length&&(G(H[e]),await Q(H[e]));e++);J()},et=(0,d.ff)("arrow-left-light","arrow-left");return(0,r.jsxs)(c.k,{justifyContent:"space-between",children:[!f&&(0,r.jsx)(o.xu,{w:"100%",mr:3,children:(0,r.jsxs)(y.z,{variant:"filled",onClick:F,children:[(0,r.jsx)(q.$,{type:"other",display:"inline-block",mr:1,name:et})," Back"]})}),(0,r.jsx)(o.xu,{w:"100%",children:v.loading?(0,r.jsxs)(x.r,{templateColumns:"repeat(2, 1fr)",py:6,rowGap:8,columnGap:14,children:[(0,r.jsxs)(m.P,{display:{base:"flex",md:"flex"},w:"100%",children:[1===N?(0,r.jsx)($.D,{color:"green",isIndeterminate:!0,size:"24px",sx:{mr:2}}):(0,r.jsx)(e1.Y,{colorScheme:"green",isChecked:N>1,sx:{mr:2}}),(0,r.jsx)(p.x,{children:"Approving Collateral"})]}),(0,r.jsxs)(m.P,{display:{base:"flex",md:"flex"},justifyContent:"space-between",w:"100%",children:[2===N?(0,r.jsx)($.D,{color:"green",isIndeterminate:!0,size:"24px",sx:{mr:2}}):(0,r.jsx)(e1.Y,{colorScheme:"green",isChecked:N>1,sx:{mr:2}}),(0,r.jsx)(p.x,{children:"Approving Debt"})]}),(0,r.jsxs)(m.P,{display:{base:"flex",md:"flex"},justifyContent:"space-between",w:"100%",children:[3===N?(0,r.jsx)($.D,{color:"green",isIndeterminate:!0,size:"24px",sx:{mr:2}}):(0,r.jsx)(e1.Y,{colorScheme:"green",isChecked:N>2,sx:{mr:2}}),(0,r.jsx)(p.x,{children:"Approving aToken"})]}),(0,r.jsxs)(m.P,{display:{base:"flex",md:"flex"},justifyContent:"space-between",w:"100%",children:[4===N?(0,r.jsx)($.D,{color:"green",isIndeterminate:!0,size:"24px",sx:{mr:2}}):(0,r.jsx)(e1.Y,{colorScheme:"green",isChecked:N>3,sx:{mr:2}}),(0,r.jsx)(p.x,{children:"Approving Debt Variable Token"})]}),(0,r.jsxs)(m.P,{display:{base:"flex",md:"flex"},justifyContent:"space-between",w:"100%",children:[5===N?(0,r.jsx)($.D,{color:"green",isIndeterminate:!0,size:"24px",sx:{mr:2}}):(0,r.jsx)(e1.Y,{colorScheme:"green",isChecked:N>4,sx:{mr:2}}),(0,r.jsx)(p.x,{children:"Executing Txn..."})]})]}):(0,r.jsx)(y.z,{isDisabled:u||0>=Number(t)||j||U,onClick:ee,children:"Leverage"})})]})};var tc=a(73461),tu=a(64853),tp=a(28838),tx=e=>{var t;let{underlyingAsset:a,isOnPage:s}=e,{data:{marketReferencePriceInUsd:n,loading:i,reserves:l}}=(0,eB.Z)(),{walletBalances:d}=(0,eA.P)(),c=(0,tu.Z)(),{currentMarketData:u}=(0,W.f)(),p=c.find(e=>{var t;return(null===(t=e.market)||void 0===t?void 0:t.chainId)===u.chainId}),x=l.find(e=>a===e.underlyingAsset),m=l.filter(e=>!e.isPaused&&e.isActive&&!e.isIsolated&&e.borrowingEnabled&&e.usageAsCollateralEnabled&&e.underlyingAsset!==x.underlyingAsset&&e.flashLoanEnabled),{supplyCapUsage:y,supplyCapReached:b}=(0,eu.pI)(x),{debtCeilingUsage:f,debtCeilingReached:g}=(0,eu.wD)(x),{currentChainId:j}=(0,W.f)(),{mainTxState:v,txError:w,gasLimit:k}=(0,eT.vR)(),S=(0,eX.Q)(j),[C,A]=(0,h.useState)(""),[I,T]=(0,h.useState)(""),[D,E]=(0,h.useState)(1),[P,R]=(0,h.useState)(!1),[L,B]=(0,h.useState)({address:m[0].underlyingAsset,symbol:m[0].symbol,iconSymbol:m[0].iconSymbol,balance:(null===(t=d[m[0].underlyingAsset.toLowerCase()])||void 0===t?void 0:t.amount)||"0"}),[_,F]=(0,h.useState)([L]);(0,h.useEffect)(()=>{if(0===m.length)return;let e=[];m.forEach(t=>{var a;e.push({address:t.underlyingAsset,symbol:t.symbol,iconSymbol:t.iconSymbol,decimals:t.decimals,balance:(null===(a=d[t.underlyingAsset.toLowerCase()])||void 0===a?void 0:a.amount)||"0"})}),F(e),B(_[0])},[v.success]);let z=new eK.O(I).multipliedBy(x.formattedPriceInMarketReferenceCurrency).multipliedBy(n).shiftedBy(-eV.$3),Z=(0,h.useMemo)(()=>x?(100/(100-100*Number(x.formattedBaseLTVasCollateral))).toFixed(0):"0",[x]),M=l.find(e=>{var t;return e.underlyingAsset.toLowerCase()===(null===(t=L.address)||void 0===t?void 0:t.toLowerCase())}),U=(0,h.useMemo)(()=>x||Z||M?Number(Z)*Number(x.supplyAPY)-(Number(Z)-1)*(Number(M.totalVariableDebtUSD)>0?-Number(M.variableBorrowAPY):-1):"0",[x,Z,M]),O=(0,h.useMemo)(()=>{var e,t;return x&&M&&I?(e=1e8*Number(M.priceInUSD),t=M.decimals,1e36*z.toNumber()/(1e28*e/Math.pow(10,t))*(D-1)).toFixed(0):"0"},[I,D,M]),N=new eK.O((0,ea.pV)(O,M.decimals).toString()).multipliedBy(M.formattedPriceInMarketReferenceCurrency).multipliedBy(n).shiftedBy(-eV.$3),V=I===C,K=x.iconSymbol,q={collateralAmount:I,debtAmount:O,isWrongNetwork:S,poolAddress:x.underlyingAsset,debtAddress:M.underlyingAsset,aToken:x.aTokenAddress,variableDebtToken:M.variableDebtTokenAddress,symbol:K,blocked:"0"===x.reserveLiquidationThreshold||P,decimals:x.decimals};return((0,h.useEffect)(()=>{(async()=>{var e;A((null===(e=d[x.underlyingAsset.toLowerCase()])||void 0===e?void 0:e.amount)||"0")})()},[v.success,d,x.underlyingAsset]),v.success)?(0,r.jsx)(eY.Z,{}):(0,r.jsxs)(o.xu,{children:[!s&&(0,r.jsx)(eJ.Z,{symbol:x.symbol.toLowerCase(),title:"Leverage"}),y?(0,r.jsx)(e_.i,{supplyCap:{percentUsed:y,isMaxed:b}}):null,f?(0,r.jsx)(ez.m,{debtCeiling:{percentUsed:f,isMaxed:g}}):null,(0,r.jsx)(o.xu,{mt:6,children:(0,r.jsx)(eq.Z,{value:I,onChange:e=>T(e),usdValue:z.toString(10),symbol:K,assets:[{balance:C,symbol:K,iconSymbol:K,decimals:x.decimals}],isMaxSelected:V,maxValue:C,balanceText:"Wallet balance",title:"Collateral Amount"})}),(0,r.jsx)(o.xu,{mt:6,children:(0,r.jsx)(eq.Z,{value:(0,ea.pV)(O,M.decimals).toString(),usdValue:N.toString(10),symbol:L.symbol,assets:_,onSelect:B,title:"Debt Amount",disabled:!0})}),(0,r.jsx)(o.xu,{mt:6}),(0,r.jsx)(o.xu,{pt:6,children:(0,r.jsx)(tc.Z,{value:D,valueLabel:"".concat(D,"X"),infolabel:"info",title:"Leverage",min:1,max:Number(Z)-.1,step:.1,onChange:e=>E(e),isSliderChangeStart:e=>R(e)})}),i?(0,r.jsx)(eH.Z,{}):(0,r.jsxs)(o.xu,{pt:6,children:[(0,r.jsx)(tp.lo,{desc:"Leverage",valueProps:{compact:!0,visibleDecimals:2},value:D.toString(),symbolProps:{symbol:"x"}}),(0,r.jsx)(tp.lo,{desc:"Max ROE",valueProps:{compact:!0,visibleDecimals:2},value:U.toString(),symbolProps:{symbol:"%"}}),(0,r.jsx)(tp.lo,{desc:"Max Multiplier",valueProps:{compact:!0,visibleDecimals:2},value:Z.toString(),symbolProps:{symbol:"x"}}),(0,r.jsx)(tp.lo,{desc:"Liquidity",valueProps:{compact:!0,visibleDecimals:2},value:(null==p?void 0:p.marketData.totalAvailable.toString())||0,symbolProps:{symbolPosition:"prefix",symbol:"$"}})]}),(0,r.jsxs)(o.xu,{mt:8,children:[(0,r.jsx)(e$.Z,{estimatedGas:BigInt(k),txError:w}),S&&(0,r.jsx)(eG.h,{networkName:(0,eQ.Mo)(j).name,chainId:j}),(0,r.jsx)(td,{isOnPage:s,...q})]})]})},tm=a(53440),ty=a(85325);let tb=["Supply","Borrow","Leverage"];var th=e=>{var t;let{underlyingAsset:a}=e,s=(0,d.ff)("white.11","white.1"),n=(0,d.ff)("grey.2","white.4"),i=(0,d.ff)("white.11","white.3"),l=(0,d.ff)("grey.10","white.11"),x=(0,d.ff)("grey.6","white.7"),[m,y]=(0,h.useState)("Supply"),{isConnected:b}=(0,V.m)(),{currentMarketData:f}=(0,W.f)(),{data:{user:g,userLoading:j}}=(0,eB.Z)(),v=g.userReservesData.find(e=>a.toLowerCase()===eD.hP.toLowerCase()?e.reserve.isWrappedBaseAsset:a===e.underlyingAsset);return b?j?(0,r.jsx)(c.k,{justifyContent:"center",alignItems:"center",minH:"600px",children:(0,r.jsx)(u.$,{size:"lg"})}):void 0!==v||j?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.k,{overflow:"auto",gap:2,mb:4,justifyContent:"center",alignItems:"center",children:null===(t=tb.filter(e=>"Leverage"!==e||f.addresses.ONE_CLICK_LEVERAGE))||void 0===t?void 0:t.map((e,t)=>(0,r.jsx)(o.xu,{sx:{w:"max-content",color:m===e?l:x,bg:m===e&&i,py:2,px:3,textTransform:"capitalize",borderRadius:"lg",cursor:"pointer",fontSize:"14px",textAlign:"center",whiteSpace:"nowrap"},onClick:()=>{y&&y(e)},fontWeight:600,children:e},t))}),(0,r.jsxs)(o.xu,{width:"100%",bg:s,border:"1px",borderColor:n,borderRadius:8,p:{base:2,md:4},display:b?"block":"none",children:["Supply"===m&&(0,r.jsx)(tm.Z,{underlyingAsset:a,isOnPage:!0}),"Borrow"===m&&(0,r.jsx)(ty.Z,{underlyingAsset:a,isOnPage:!0}),"Leverage"===m&&(0,r.jsx)(tx,{underlyingAsset:a,isOnPage:!0})]})]}):(0,r.jsx)(p.x,{textAlign:"center",children:"Something went wrong. Try to reload and check again"}):(0,r.jsx)(eN.Z,{title:"Wallet not connected",desc:"Connect your wallet trade on Zerolend",minH:"600px"})},tf=a(5152),tg=a.n(tf);let tj=tg()(()=>Promise.all([a.e(5279),a.e(7229)]).then(a.bind(a,47229)),{loadableGenerated:{webpack:()=>[47229]},ssr:!1});var tv=e=>{let{color:t,reserve:a}=e,s=[{name:"variableBorrowRate",text:"Borrow APR, variable",color:"#12152B"},...(a={...a,utilizationRate:a.borrowUsageRatio}).stableBorrowRateEnabled?[{name:"stableBorrowRate",text:"Borrow APR, stable",color:"#E7C6DF"}]:[]],n=(100*parseFloat(a.utilizationRate)).toFixed(2),i=(0,ea.pV)(a.optimalUsageRatio,25).toNumber(),l=(0,h.useMemo)(()=>(0,ec.jS)(a),[JSON.stringify(a)]),[c]=(0,g.a)("(max-width: 48em)"),{colorMode:u}=(0,d.If)(),p=[{name:"Variable Borrow APR",data:l.map(e=>({x:e.utilization,y:100*e.variableRate}))},...a.stableBorrowRateEnabled?[{name:"Stable Borrow APR",data:l.map(e=>({x:e.utilization,y:100*e.stableRate}))}]:[]];return(0,r.jsx)(o.xu,{id:"chart",mt:4,pb:6,children:(0,r.jsx)(o.xu,{children:(0,r.jsx)(o.xu,{id:"chart",children:(0,r.jsx)(tj,{options:{chart:{id:"interest-rate-model",height:350,type:"line",zoom:{enabled:!1},toolbar:{show:!1}},xaxis:{labels:{style:{colors:"dark"===u?"#FFFFFF99":"#55556D"},formatter:e=>"".concat(e,"%")},tickAmount:4,min:0,max:100},yaxis:{labels:{style:{colors:"dark"===u?"#FFFFFF99":"#55556D"},formatter:e=>"".concat(e.toFixed(2),"%")},title:{text:"Borrow Rate (%)"}},dataLabels:{enabled:!1},tooltip:{theme:"dark"===u?"dark":"light",custom:e=>{let{seriesIndex:t,dataPointIndex:n,w:r}=e,i=r.config.series[t].data[n],o=i.x/100*parseFloat(a.totalLiquidityUSD)-parseFloat(a.totalDebtUSD),l=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(Math.abs(o));return'\n          <div style="padding: 10px; background: '.concat("dark"===u?"#333":"#fff","; color: ").concat("dark"===u?"#fff":"#000",'; border-radius: 4px;">\n            <div style="font-size: 14px; font-weight: bold;">Utilization Rate</div>\n            <div style="font-size: 14px;">').concat(i.x,'%</div>\n            <div style="font-size: 14px; margin-top: 8px;">\n              ').concat(o>0?"Borrow amount to reach ".concat(i.x,"% utilization: $").concat(l):"Repayment amount to reach ".concat(i.x,"% utilization: $").concat(l),"\n            </div>\n            ").concat(s.map(e=>'\n                <div style="font-size: 14px; margin-top: 4px;">\n                  '.concat(e.text,": ").concat(i.y.toFixed(2),"%\n                </div>\n            ")).join(""),"\n          </div>\n            ")}},grid:{show:!0,borderColor:"dark"===u?"#292524":"#D1D1DB",strokeDashArray:4,row:{colors:["transparent"],opacity:.5}},stroke:{curve:"straight",colors:t,width:4},annotations:{xaxis:[{x:n,borderColor:"#383D51",borderWidth:2,label:{borderRadius:4,text:"Current ".concat(n,"%"),style:{color:"#fff",background:"#383D51"}}},{x:i,borderColor:"#383D51",borderWidth:2,label:{borderRadius:4,text:"Optimal ".concat(i,"%"),style:{color:"#fff",background:"#383D51"}}}]}},series:p,type:"line",height:c?"346px":277})})})})},tw=a(29374);let tk=tg()(()=>Promise.all([a.e(5279),a.e(7229)]).then(a.bind(a,47229)),{loadableGenerated:{webpack:()=>[47229]},ssr:!1});var tS=e=>{let{graphKey:t,reserve:a,currentMarketData:s}=e,[i]=(0,g.a)("(max-width: 48em)"),{colorMode:l}=(0,d.If)(),x=(0,d.ff)("white.11","white.3"),m=(0,d.ff)("grey.10","white.11"),[b,f]=(0,h.useState)("30d"),j="";a&&(j=s.v3?"".concat(a.underlyingAsset).concat(s.addresses.LENDING_POOL_ADDRESS_PROVIDER).concat(s.chainId):"".concat(a.underlyingAsset).concat(s.addresses.LENDING_POOL_ADDRESS_PROVIDER));let{data:k,loading:S,error:C,refetch:A}=function(e,t,a){let{currentNetworkConfig:s,currentMarket:n}=(0,W.f)(),[r,i]=(0,h.useState)(!0),[o,l]=(0,h.useState)(!1),[d,c]=(0,h.useState)([]),u=null==s?void 0:s.ratesHistoryApiUrl,p=(0,h.useCallback)(()=>{if(i(!0),l(!1),c([]),e&&!eC.includes(e)){let e=(0,ev.BZ)(ek(ew[n],a,t));return e.promise.then(e=>{!0===e.success&&c(e.data.processedData.map(e=>({date:ej()().year(e.x.year).month(e.x.month-1).date(e.x.date).hour(e.x.hours).minute(0).second(0).unix(),liquidityRate:e.liquidityRate_avg,variableBorrowRate:e.variableBorrowRate_avg,utilizationRate:e.utilizationRate_avg,stableBorrowRate:e.stableBorrowRate_avg}))),i(!1)}).catch(e=>{console.error("useReservesHistory(): Failed to fetch historical reserve data.",e),l(!0),i(!1)}),e.cancel}return i(!1),()=>null},[e,t,u]);return(0,h.useEffect)(()=>{let e=p();return()=>e()},[p]),{loading:r,data:d,error:o||eC.includes(e)||!r&&0===d.length,refetch:p}}(j,n.OneMonth,null==a?void 0:a.symbol.toLowerCase()),I=[...(null==a?void 0:a.stableBorrowRateEnabled)?[{name:"stableBorrowRate",color:"#E7C6DF",text:"Borrow APR, stable"}]:[],{name:"variableBorrowRate",color:"#12152B",text:"Borrow APR, variable"}],T=e=>new Date(1e3*e.date),L=(e,t)=>10*e[t],B=(e=>{let t;let a=ej()();switch(b){case"1d":t=a.subtract(1,"day");break;case"7d":t=a.subtract(7,"days");break;case"30d":default:t=a.subtract(30,"days");break;case"90d":t=a.subtract(90,"days");break;case"1y":t=a.subtract(1,"year")}return e.filter(e=>ej()(T(e)).isAfter(t))})(k),_=("supply"===t?[{name:"liquidityRate",color:"#12152B",text:"Supply APR"}]:I).map(e=>({name:e.text,data:B.map(t=>({x:T(t),y:L(t,e.name)}))}));return(0,r.jsxs)(o.xu,{children:[(0,r.jsx)(w.U,{alignItems:"center",justifyContent:"flex-end",children:(0,r.jsx)(v.K,{gap:0,alignItems:"flex-end",children:(0,r.jsxs)(D.v,{variant:"small",placement:"bottom-end",children:[(0,r.jsx)(E.j,{alignItems:"center",borderRadius:"8px",p:2,as:c.k,h:"fit-content",w:"fit-content",bg:x,children:(0,r.jsxs)(c.k,{cursor:"pointer",justifyContent:"space-between",alignItems:"center",gap:2,children:[(0,r.jsx)(p.x,{color:m,fontSize:"14px",textTransform:"uppercase",children:b}),(0,r.jsx)(el.v,{color:m})]})}),(0,r.jsx)(P.q,{zIndex:99999,overflow:"auto",px:2,minW:"120px",display:"flex",alignItems:"center",flexDirection:"column",gap:"13px",justifyContent:"center",children:["1d","7d","30d","90d","1y"].map((e,t)=>(0,r.jsx)(R.s,{px:3,py:1,borderRadius:"8px",onClick:()=>f(e),minW:"70px",w:"70px",children:(0,r.jsx)(p.x,{textStyle:"sm",p:2,fontWeight:500,textTransform:"uppercase",children:e})},t))})]})})}),S&&(0,r.jsxs)(o.xu,{display:"flex",alignItems:"center",justifyContent:"center",children:[(0,r.jsx)(u.$,{}),(0,r.jsx)(p.x,{children:"Loading"})]}),C&&(0,r.jsxs)(v.K,{display:"flex",alignItems:"center",justifyContent:"center",children:[(0,r.jsx)(p.x,{mt:3,children:"Something went wrong. Data couldn't be fetched, please reload graph"}),(0,r.jsx)(y.z,{mt:3,onClick:A,w:"max-content",children:"Refresh"})]}),!S&&!C&&(0,r.jsx)(tk,{options:{chart:{type:"line",height:350,zoom:{enabled:!1},toolbar:{show:!1}},stroke:{width:3,curve:"smooth"},xaxis:{type:"datetime",labels:{formatter:e=>(0,tw.i$)("%b %d")(new Date(e))},style:{colors:"dark"===l?"#FFFFFF99":"#55556D"}},yaxis:{labels:{formatter:e=>"".concat(e.toFixed(2),"%")},style:{colors:"dark"===l?"#FFFFFF99":"#55556D"}},tooltip:{theme:"dark",x:{format:"dd MMM yyyy"},y:{formatter:e=>"".concat(e.toFixed(2),"%")}},colors:["#725CFA","#EF7BE3"],grid:{show:!0,borderColor:"dark"===l?"#292524":"#D1D1DB",strokeDashArray:4,position:"front"},legend:{position:i?"top":"bottom",horizontalAlign:i?"left":"center",labels:{colors:"dark"===l?"#FFFFFF99":"#55556D"}}},series:_,type:"line",height:i?"346px":277})]})};let tC=["Supply APR","Borrow APR","Interest Rate"];var tA=e=>{let{reserve:t,renderCharts:a}=e,s=(0,d.ff)("grey.2","white.4"),n=(0,d.ff)("white.11","white.3"),i=(0,d.ff)("grey.10","white.11"),l=(0,d.ff)("grey.6","white.7"),[u,x]=(0,h.useState)("Supply APR"),{currentMarketData:m}=(0,W.f)(),[y]=(0,g.a)("(max-width: 48em)");return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.k,{overflow:"auto",gap:2,justifyContent:"start",alignItems:"center",children:y?(0,r.jsxs)(D.v,{variant:"small",placement:"bottom-end",children:[(0,r.jsx)(E.j,{alignItems:"center",borderRadius:"8px",p:3,as:c.k,h:"fit-content",w:"fit-content",bg:n,children:(0,r.jsxs)(c.k,{cursor:"pointer",justifyContent:"space-between",alignItems:"center",gap:1,children:[(0,r.jsx)(c.k,{minW:"108px",gap:2,children:(0,r.jsx)(p.x,{color:i,children:u})}),(0,r.jsx)(el.v,{color:i})]})}),(0,r.jsx)(P.q,{zIndex:99999,overflow:"auto",px:2,gap:"13px",w:"fit-content",children:tC.map((e,t)=>(0,r.jsx)(R.s,{px:3,py:1,borderRadius:"8px",onClick:()=>{x&&x(e)},alignItems:"center",children:(0,r.jsx)(c.k,{cursor:"pointer",justifyContent:"start",alignItems:"center",gap:2,children:(0,r.jsx)(p.x,{textStyle:"sm",p:2,fontWeight:500,children:e})})},t))})]}):(0,r.jsx)(c.k,{overflow:"auto",gap:2,justifyContent:"start",alignItems:"center",children:null==tC?void 0:tC.map((e,t)=>(0,r.jsx)(o.xu,{sx:{w:"max-content",color:u===e?i:l,bg:u===e&&n,py:2,px:3,textTransform:"capitalize",borderRadius:"lg",cursor:"pointer",fontSize:"14px",textAlign:"center",whiteSpace:"nowrap"},onClick:()=>{x&&x(e)},fontWeight:600,children:e},t))})}),(0,r.jsxs)(o.xu,{width:"100%",borderColor:s,borderRadius:8,p:{base:2,md:0},minH:"250px",children:["Supply APR"===u&&a&&(0,r.jsx)(tS,{graphKey:"supply",reserve:t,currentMarketData:m}),"Borrow APR"===u&&a&&(0,r.jsx)(tS,{graphKey:"borrow",reserve:t,currentMarketData:m}),"Interest Rate"===u&&t&&(t.borrowingEnabled||Number(t.totalDebt)>0)&&(0,r.jsx)(tv,{color:"#EF967B",reserve:t})]})]})},tI=a(55083),tT=a(19778),tD=a(85335),tE=a(54346),tP=()=>{let e=(0,f.useRouter)(),{currentMarket:t,currentMarketData:a,currentNetworkConfig:s}=(0,W.f)(),{data:{reserves:n,user:i,reserveLoading:h}}=(0,eB.Z)(),{isOpen:g,onOpen:j,onClose:v}=(0,l.q)(),w=(0,d.ff)("grey.1","white.1"),{combinedAssets:k}=(0,eW.Z)(i,s),S=e.query.underlyingAsset;if(void 0===S)return(0,r.jsx)(r.Fragment,{children:"Something Went Wrong"});let C=n.find(e=>(null==S?void 0:S.toLowerCase())===eD.hP.toLowerCase()?e.isWrappedBaseAsset:S===e.underlyingAsset);if(void 0===C&&!h)return(0,r.jsx)(r.Fragment,{children:"No asset found"});if(h&&!C)return(0,r.jsx)(c.k,{justifyContent:"center",mt:20,children:(0,r.jsx)(u.$,{size:"xl"})});let A=(null==C?void 0:C.underlyingAsset)+a.addresses.LENDING_POOL_ADDRESS_PROVIDER,I=!a.disableCharts&&!eC.includes(A),T=k.find(e=>(null==C?void 0:C.id)===e.reserve.id);return void 0===C?(0,r.jsx)(p.x,{children:"Asset not found"}):(0,r.jsxs)(o.xu,{children:[(0,r.jsx)(H,{reserve:C,loading:h}),(0,r.jsxs)(x.r,{templateColumns:"repeat(12, 1fr)",gap:{base:0,md:6},flexDir:{base:"row-reverse",md:"column"},w:"100%",children:[(0,r.jsx)(m.P,{colSpan:{base:12,md:8},display:{base:"block",lg:"none"},children:(0,r.jsxs)(o.xu,{mb:4,children:[T&&(0,r.jsx)(eO,{reserve:C,userReserve:T,marketId:t}),C&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(y.z,{colorScheme:"teal",size:{md:"sm",lg:"md"},p:2,w:"100%",onClick:j,children:"Manage"}),(0,r.jsxs)(tI.d,{isOpen:g,placement:"bottom",onClose:v,isFullHeight:!1,children:[(0,r.jsx)(tT.Z,{blur:10,backdropBlur:10}),(0,r.jsx)(tD.s,{h:"fit-content",children:(0,r.jsx)(tE.f,{p:2,bg:w,border:"1px",borderColor:(0,d.ff)("grey.2","white.3"),borderRadius:"xl",children:(0,r.jsx)(o.xu,{my:2,children:(0,r.jsx)(th,{underlyingAsset:C.underlyingAsset})})})})]})]})]})}),(0,r.jsxs)(m.P,{colSpan:{base:12,md:8},children:[C&&(0,r.jsxs)(o.xu,{children:[(0,r.jsx)(ep,{reserve:C}),(0,r.jsx)(b.i,{color:(0,d.ff)("grey.1","white.2")})]}),((null==C?void 0:C.borrowingEnabled)||Number(null==C?void 0:C.totalDebt)>0)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eb,{reserve:C}),(0,r.jsx)(b.i,{color:(0,d.ff)("grey.1","white.2")})]}),C&&0!==C.eModeCategoryId&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ef,{reserve:C}),(0,r.jsx)(b.i,{color:(0,d.ff)("grey.1","white.2")})]}),(0,r.jsx)(o.xu,{children:C&&I&&(0,r.jsxs)(o.xu,{mt:4,children:[(0,r.jsx)(tA,{reserve:C,renderCharts:I}),(0,r.jsx)(b.i,{color:(0,d.ff)("grey.1","white.2")})]})})]}),(0,r.jsxs)(m.P,{colSpan:{base:12,md:4},display:{base:"none",lg:"block"},children:[C&&(0,r.jsx)(th,{underlyingAsset:C.underlyingAsset}),T&&(0,r.jsx)(o.xu,{mt:6,display:{base:"none",lg:"block"},children:(0,r.jsx)(eO,{reserve:C,userReserve:T,marketId:t})})]})]})]})};function tR(){return(0,r.jsx)(o.xu,{children:(0,r.jsx)(tP,{})})}tR.getLayout=function(e){return(0,r.jsx)(i.Zn,{children:e})}},95372:function(e,t,a){"use strict";var s=a(85893),n=a(86200),r=a(7384),i=a(8371),o=a(45161);a(67294),t.Z=e=>{let{value:t,...a}=e;return(0,s.jsx)(i.Vp,{size:"sm",variant:"solid",background:(0,o.ff)("grey.2","white.3"),w:"max-content",px:1,...a,children:(0,s.jsx)(n.b,{symbol:"USD",symbolPosition:"prefix",textProps:{textStyle:"s"},children:(0,s.jsx)(r.BK,{value:t,visibleDecimals:2,compact:!0})})})}},74666:function(e,t,a){"use strict";var s=a(85893),n=a(45161),r=a(57747),i=a(96854);a(67294);var o=a(90851);t.Z=e=>{let{title:t,value:a,size:l,infoLabel:d,wfull:c=!1,woContainer:u,fitCon:p=!1}=e,x=(0,n.ff)("grey.7","white.7"),m=(0,n.ff)("#fff","white.1"),y=(0,n.ff)("grey.2","white.4"),b="lg"===l;return(0,s.jsxs)(r.xu,{width:{base:p?"fit-content":"100%",md:c?"100%":"max-content"},bg:u?"none":m,border:u?"none":"1px",borderColor:y,borderRadius:b?12:8,py:{base:2,md:b?4:2},px:{base:b?4:3,md:b?6:3},pe:u?{base:b?4:2,md:b?6:2}:{base:b?6:8,md:8},children:[(0,s.jsx)(o.Z,{textStyle:{base:"sm",md:b?"base":"sm"},mb:{base:0,md:b?1:0},fontWeight:b?500:400,color:x,w:"max-content",title:t,infolabel:d}),(0,s.jsx)(r.xu,{textStyle:{base:"xl",md:b?"3xl":"xl"},fontWeight:b?500:600,children:e.loading?(0,s.jsx)(i.O,{height:"30px",w:"24"}):a})]})}},64853:function(e,t,a){"use strict";var s=a(27484),n=a.n(s),r=a(67294),i=a(51244),o=a(45381);t.Z=()=>{let[e,t]=(0,o.Yh)(e=>[e.getAllMarketAndReserves(),e.data]),[a,s]=(0,r.useState)([]),l=(0,r.useCallback)(async()=>{let t=n()().unix();s(e.map(e=>({market:e.market,marketData:(0,i.oc)(e,t),marketUrl:e.marketUrl})))},[e]);return(0,r.useEffect)(()=>{0!==t.size&&l().catch(e=>{console.error("Failed to format Market Table Data: ".concat(e.stack))})},[t]),a}},71847:function(e,t,a){"use strict";var s=a(80854),n=a(67294),r=a(17124),i=a(64163);t.Z=(e,t)=>{let a=e=>e.isWrappedBaseAsset?(0,r.QD)({symbol:t.baseAssetSymbol,underlyingAsset:s.hP.toLowerCase()}):{},{combinedAssets:o}=(0,n.useMemo)(()=>{let t=new Map;return(null==e?void 0:e.userReservesData)&&(e.userReservesData.filter(e=>{let{underlyingBalance:t}=e;return"0"!==t}).map(e=>{let s={...e,...e.reserve,...a(e.reserve)};return t.set(e.underlyingAsset,s),s}),e.userReservesData.reduce((e,s)=>{let{variableBorrows:n,stableBorrows:r,reserve:o}=s,l=n=>{let r={...s,borrowRateMode:n,...o,...a(o)},i=t.get(s.underlyingAsset);t.set(s.underlyingAsset,{...i,...r}),e.push(r)};return"0"!==n&&l(i.tk.Variable),"0"!==r&&l(i.tk.Stable),e},[])),{combinedAssets:Array.from(t.values())}},[e,t]);return{combinedAssets:o}}}},function(e){e.O(0,[8388,887,509,6134,388,3082,9774,2888,179],function(){return e(e.s=80381)}),_N_E=e.O()}]);